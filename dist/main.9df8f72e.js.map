{"version":3,"sources":["main.js"],"names":["engineList","Map","sites","JSON","parse","localStorage","getItem","engine","siteList","logo","name","url","setEngine","new_src","$","attr","urlToName","replace","newSite","insertBefore","initSites","i","length","addSite","window","prompt","indexOf","siteName","siteLogo","push","removeSite","e","console","log","stopPropagation","index","currentTarget","parent","remove","splice","sitePointer","toLowerCase","key","open","search","preventDefault","inputVal","val","get","toggleEngines","toggleClass","switchEngine","setItem","enterSearch","trigger","onpagehide","localList","stringify","document","on","focus","off","blur","click"],"mappings":"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","file":"main.9df8f72e.js","sourceRoot":"../src","sourcesContent":["const engineList = new Map([\n  [\"google\", \"https://google.com/search?q=\"],\n  [\"baidu\", \"https://www.baidu.com/s?tn=44004473_18_oem_dg&ie=utf-8&wd=\"],\n  [\"mdn\", \"https://developer.mozilla.org/zh-CN/search?q=\"],\n]);\nconst sites = JSON.parse(localStorage.getItem(\"sites\"));\nlet engine = localStorage.getItem(\"engine\") || \"google\";\nlet siteList = sites || [\n  { logo: \"A\", name: \"Apple\", url: \"https://www.apple.com.cn/\" },\n  { logo: \"B\", name: \"bilibili\", url: \"https://bilibili.com\" },\n  { logo: \"C\", name: \"css-tricks\", url: \"https://css-tricks.com/\" },\n  { logo: \"D\", name: \"DeepL翻译\", url: \"https://www.deepl.com/zh/translator\" },\n  {\n    logo: \"E\",\n    name: \"Element-UI\",\n    url: \"http://element-cn.eleme.io/#/zh-CN/component/installation\",\n  },\n  {\n    logo: \"F\",\n    name: \"Figma\",\n    url: \"https://www.figma.com/\",\n  },\n  {\n    logo: \"G\",\n    name: \"Github\",\n    url: \"https://github.com/\",\n  },\n  {\n    logo: \"H\",\n    name: \"Highcharts\",\n    url: \"https://www.highcharts.com.cn/\",\n  },\n  {\n    logo: \"I\",\n    name: \"Iconfont\",\n    url: \"https://www.iconfont.cn/\",\n  },\n  {\n    logo: \"J\",\n    name: \"jQuery\",\n    url: \"https://jquery.com/\",\n  },\n  {\n    logo: \"K\",\n    name: \"快递100\",\n    url: \"https://kuaidi100.com\",\n  },\n  {\n    logo: \"L\",\n    name: \"LeetCode\",\n    url: \"https://leetcode-cn.com/\",\n  },\n  {\n    logo: \"M\",\n    name: \"MDN\",\n    url: \"https://developer.mozilla.org/zh-CN/docs/Learn\",\n  },\n];\n\nconst setEngine = (engine) => {\n  const new_src = `https://kehanhan.github.io/newTab/src/images/${engine}.png`;\n  $(\".select_btn > img\").attr(\"src\", new_src);\n};\nconst urlToName = (url) => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(/\\/.*/, \"\")\n    .replace(/\\.org/, \"\")\n    .replace(/\\.com/, \"\")\n    .replace(/\\.cn/, \"\");\n};\nconst newSite = (name, logo, url) => {\n  $(`<li class=\"site\">\n  <a href=\"${url}\">\n      <div class=\"site_icon\">${logo}</div>\n  </a>\n  <div class=\"site_name\" title=${name} >${name}</div>\n  <div class=\"remove_site\">\n    <svg class=\"icon\">\n        <use xlink:href=\"#icon-delete\"></use>\n    </svg>\n  </div>\n</li>`).insertBefore($(\".last\"));\n};\nconst initSites = () => {\n  for (let i = 0; i < siteList.length; i++) {\n    newSite(siteList[i].name, siteList[i].logo, siteList[i].url);\n  }\n};\nsetEngine(engine);\ninitSites();\n\nconst addSite = () => {\n  let url = window.prompt(\"请输入网站地址：\");\n  if (url) {\n    if (url.indexOf(\"http\") !== 0) {\n      url = \"https://\" + url;\n    }\n    siteName = urlToName(url);\n    siteLogo = siteName[0];\n    siteList.push({\n      logo: siteLogo,\n      name: siteName,\n      url: url,\n    });\n    newSite(siteName, siteLogo, url);\n  }\n};\nconst removeSite = (e) => {\n  console.log();\n  e.stopPropagation();\n  const index = $(e.currentTarget).parent().index();\n  $(e.currentTarget).parent().remove();\n  siteList.splice(index, 1);\n};\nconst sitePointer = (e) => {\n  for (let i = 0; i < siteList.length; i++) {\n    if (siteList[i].logo.toLowerCase() === e.key) {\n      window.open(siteList[i].url);\n    }\n  }\n};\nconst search = (e) => {\n  e.preventDefault();\n  const inputVal = $(\".search_box > input\").val();\n  !inputVal || window.open(engineList.get(engine) + inputVal);\n};\nconst toggleEngines = function () {\n  $(\".card\").toggleClass(\"show\");\n};\nconst switchEngine = function (e) {\n  e.preventDefault();\n  engine = this.name;\n  localStorage.setItem(\"engine\", engine);\n  const new_src = `https://kehanhan.github.io/newTab/src/images/${engine}.png`;\n  $(\".select_btn > img\").attr(\"src\", new_src);\n  toggleEngines();\n};\nconst enterSearch = (e) => {\n  e.key === \"Enter\" && $(\".search_btn\").trigger(\"click\");\n};\n\nwindow.onpagehide = () => {\n  let localList = JSON.stringify(siteList);\n  localStorage.setItem(\"sites\", localList);\n};\n$(document).on(\"keypress\", sitePointer);\n$(\".search_box > input\").focus(() => {\n  $(document).off(\"keypress\", sitePointer);\n  $(document).on(\"keypress\", enterSearch);\n});\n$(\".search_box > input\").blur(() => $(document).on(\"keypress\", sitePointer));\n$(\".select_btn\").click(toggleEngines);\n$(\".search_btn\").click(search);\n$(\".switch_btn\").click(switchEngine);\n$(\".add_site\").on(\"click\", addSite);\n$(\".site\").on(\"click\", \".remove_site\", removeSite);\n"]}