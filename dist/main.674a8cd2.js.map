{"version":3,"sources":["main.js"],"names":["engineList","Map","sites","JSON","parse","localStorage","getItem","engine","siteList","logo","name","url","setEngine","new_src","$","attr","urlToName","replace","removeSite","e","stopImmediatePropagation","index","currentTarget","parent","remove","splice","newSite","insertBefore","on","initSites","i","length","addSite","window","prompt","indexOf","siteName","siteLogo","push","sitePointer","toLowerCase","key","open","search","preventDefault","inputVal","val","get","toggleEngines","toggleClass","switchEngine","setItem","enterSearch","trigger","onpagehide","localList","stringify","document","focus","off","blur","click"],"mappings":"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","file":"main.674a8cd2.js","sourceRoot":"../src","sourcesContent":["const engineList = new Map([\n  [\"google\", \"https://google.com/search?q=\"],\n  [\"baidu\", \"https://www.baidu.com/s?tn=44004473_18_oem_dg&ie=utf-8&wd=\"],\n  [\"mdn\", \"https://developer.mozilla.org/zh-CN/search?q=\"],\n]);\nconst sites = JSON.parse(localStorage.getItem(\"sites\"));\nlet engine = localStorage.getItem(\"engine\") || \"google\";\nlet siteList = sites || [\n  { logo: \"A\", name: \"Apple\", url: \"https://www.apple.com.cn/\" },\n  { logo: \"B\", name: \"bilibili\", url: \"https://bilibili.com\" },\n  { logo: \"C\", name: \"css-tricks\", url: \"https://css-tricks.com/\" },\n  { logo: \"D\", name: \"DeepL翻译\", url: \"https://www.deepl.com/zh/translator\" },\n  {\n    logo: \"E\",\n    name: \"Element-UI\",\n    url: \"http://element-cn.eleme.io/#/zh-CN/component/installation\",\n  },\n  {\n    logo: \"F\",\n    name: \"Figma\",\n    url: \"https://www.figma.com/\",\n  },\n  {\n    logo: \"G\",\n    name: \"Github\",\n    url: \"https://github.com/\",\n  },\n  {\n    logo: \"H\",\n    name: \"Highcharts\",\n    url: \"https://www.highcharts.com.cn/\",\n  },\n  {\n    logo: \"I\",\n    name: \"Iconfont\",\n    url: \"https://www.iconfont.cn/\",\n  },\n  {\n    logo: \"J\",\n    name: \"jQuery\",\n    url: \"https://jquery.com/\",\n  },\n  {\n    logo: \"K\",\n    name: \"快递100\",\n    url: \"https://kuaidi100.com\",\n  },\n  {\n    logo: \"L\",\n    name: \"LeetCode\",\n    url: \"https://leetcode-cn.com/\",\n  },\n  {\n    logo: \"M\",\n    name: \"MDN\",\n    url: \"https://developer.mozilla.org/zh-CN/docs/Learn\",\n  },\n];\n\nconst setEngine = (engine) => {\n  const new_src = `https://kehanhan.github.io/newTab/src/images/${engine}.png`;\n  $(\".select_btn > img\").attr(\"src\", new_src);\n};\nconst urlToName = (url) => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(/\\/.*/, \"\")\n    .replace(/\\.org/, \"\")\n    .replace(/\\.com/, \"\")\n    .replace(/\\.cn/, \"\");\n};\nconst removeSite = (e) => {\n  e.stopImmediatePropagation();\n  const index = $(e.currentTarget).parent().index();\n  $(e.currentTarget).parent().remove();\n  siteList.splice(index, 1);\n};\nconst newSite = (name, logo, url) => {\n  $(`<li class=\"site\">\n  <a href=\"${url}\">\n      <div class=\"site_icon\">${logo}</div>\n  </a>\n  <div class=\"site_name\" title=${name} >${name}</div>\n  <div class=\"remove_site\">\n    <svg class=\"icon\">\n        <use xlink:href=\"#icon-delete\"></use>\n    </svg>\n  </div>\n</li>`).insertBefore($(\".last\"));\n  $(\".site\").on(\"click\", \".remove_site\", removeSite);\n};\nconst initSites = () => {\n  for (let i = 0; i < siteList.length; i++) {\n    newSite(siteList[i].name, siteList[i].logo, siteList[i].url);\n  }\n};\nsetEngine(engine);\ninitSites();\n\nconst addSite = () => {\n  let url = window.prompt(\"请输入网站地址：\");\n  if (url) {\n    if (url.indexOf(\"http\") !== 0) {\n      url = \"https://\" + url;\n    }\n    siteName = urlToName(url);\n    siteLogo = siteName[0];\n    siteList.push({\n      logo: siteLogo,\n      name: siteName,\n      url: url,\n    });\n    newSite(siteName, siteLogo, url);\n  }\n};\nconst sitePointer = (e) => {\n  for (let i = 0; i < siteList.length; i++) {\n    if (siteList[i].logo.toLowerCase() === e.key) {\n      window.open(siteList[i].url);\n    }\n  }\n};\nconst search = (e) => {\n  e.preventDefault();\n  const inputVal = $(\".search_box > input\").val();\n  !inputVal || window.open(engineList.get(engine) + inputVal);\n};\nconst toggleEngines = function () {\n  $(\".card\").toggleClass(\"show\");\n};\nconst switchEngine = function (e) {\n  e.preventDefault();\n  engine = this.name;\n  localStorage.setItem(\"engine\", engine);\n  const new_src = `https://kehanhan.github.io/newTab/src/images/${engine}.png`;\n  $(\".select_btn > img\").attr(\"src\", new_src);\n  toggleEngines();\n};\nconst enterSearch = (e) => {\n  e.key === \"Enter\" && $(\".search_btn\").trigger(\"click\");\n};\n\nwindow.onpagehide = () => {\n  let localList = JSON.stringify(siteList);\n  localStorage.setItem(\"sites\", localList);\n};\n$(document).on(\"keypress\", sitePointer);\n$(\".search_box > input\").focus(() => {\n  $(document).off(\"keypress\", sitePointer);\n  $(document).on(\"keypress\", enterSearch);\n});\n$(\".search_box > input\").blur(() => $(document).on(\"keypress\", sitePointer));\n$(\".select_btn\").click(toggleEngines);\n$(\".search_btn\").click(search);\n$(\".switch_btn\").click(switchEngine);\n$(\".add_site\").on(\"click\", addSite);\n"]}