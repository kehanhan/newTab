{"version":3,"sources":["main.js"],"names":["engines","Map","engine","localStorage","getItem","switchEngine","new_src","$","attr","sites","JSON","parse","siteList","logo","name","url","urlToName","replace","render","find","remove","forEach","node","index","$li","insertBefore","addUrl","window","prompt","indexOf","push","keyToSite","e","i","length","toLowerCase","key","open","search","preventDefault","inputVal","val","get","onpagehide","localList","stringify","setItem","on","focus","document","off","trigger","click","toggleClass"],"mappings":"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","file":"main.80b8911d.js","sourceRoot":"../src","sourcesContent":["const engines = new Map([\n  [\"google\", \"https://google.com/search?q=\"],\n  [\"baidu\", \"https://www.baidu.com/s?tn=44004473_18_oem_dg&ie=utf-8&wd=\"],\n  [\"mdn\", \"https://developer.mozilla.org/zh-CN/search?q=\"],\n]);\nlet engine = localStorage.getItem(\"engine\") || \"google\";\nconst switchEngine = (engine) => {\n  const new_src = `https://kehanhan.github.io/newTab/src/images/${engine}.png`;\n  $(\".select_button > img\").attr(\"src\", new_src);\n};\nswitchEngine(engine);\nconst sites = JSON.parse(localStorage.getItem(\"sites\"));\nlet siteList = sites || [\n  { logo: \"A\", name: \"Apple\", url: \"https://www.apple.com.cn/\" },\n  { logo: \"B\", name: \"bilibili\", url: \"https://bilibili.com\" },\n  { logo: \"C\", name: \"css-tricks\", url: \"https://css-tricks.com/\" },\n  { logo: \"D\", name: \"DeepL翻译\", url: \"https://www.deepl.com/zh/translator\" },\n  {\n    logo: \"E\",\n    name: \"Element-UI\",\n    url: \"http://element-cn.eleme.io/#/zh-CN/component/installation\",\n  },\n  {\n    logo: \"F\",\n    name: \"Figma\",\n    url: \"https://www.figma.com/\",\n  },\n  {\n    logo: \"G\",\n    name: \"Github\",\n    url: \"https://github.com/\",\n  },\n  {\n    logo: \"H\",\n    name: \"Highcharts\",\n    url: \"https://www.highcharts.com.cn/\",\n  },\n  {\n    logo: \"I\",\n    name: \"Iconfont\",\n    url: \"https://www.iconfont.cn/\",\n  },\n  {\n    logo: \"J\",\n    name: \"jQuery\",\n    url: \"https://jquery.com/\",\n  },\n  {\n    logo: \"K\",\n    name: \"快递100\",\n    url: \"https://kuaidi100.com\",\n  },\n  {\n    logo: \"L\",\n    name: \"LeetCode\",\n    url: \"https://leetcode-cn.com/\",\n  },\n  {\n    logo: \"M\",\n    name: \"MDN\",\n    url: \"https://developer.mozilla.org/zh-CN/docs/Learn\",\n  },\n];\n\nconst urlToName = (url) => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(/\\/.*/, \"\")\n    .replace(/\\.org/, \"\")\n    .replace(/\\.com/, \"\")\n    .replace(/\\.cn/, \"\");\n};\n\nconst render = () => {\n  $(\".appList\").find(\"li:not(.last)\").remove();\n  siteList.forEach((node, index) => {\n    const $li = $(`<li class=\"app\">\n          <a href=\"${node.url}\">\n              <div class=\"app_icon\">${node.logo}</div>\n          </a>\n          <div class=\"app_name\" title=${node.name} >${node.name}</div>\n          <div class=\"delete_app\">\n            <svg class=\"icon\">\n                <use xlink:href=\"#icon-delete\"></use>\n            </svg>\n          </div>\n        </li>`).insertBefore($(\".last\"));\n    // $(\".app\").on(\"click\", \".delete_app\", () => {\n    //   siteList.splice(index, 1);\n    //   render();\n    // });\n  });\n};\nrender();\n\nconst addUrl = () => {\n  let url = window.prompt(\"请输入网站地址：\");\n  if (url) {\n    if (url.indexOf(\"http\") !== 0) {\n      url = \"https://\" + url;\n    }\n    siteList.push({\n      logo: urlToName(url)[0],\n      name: urlToName(url),\n      url: url,\n    });\n    render();\n  }\n};\nconst keyToSite = (e) => {\n  for (let i = 0; i < siteList.length; i++) {\n    if (siteList[i].logo.toLowerCase() === e.key) {\n      window.open(siteList[i].url);\n    }\n  }\n};\nconst search = function (e) {\n  e.preventDefault();\n  const inputVal = $(\".search_box > input\").val();\n  !inputVal || window.open(engines.get(engine) + inputVal);\n};\n\nwindow.onpagehide = () => {\n  let localList = JSON.stringify(siteList);\n  localStorage.setItem(\"sites\", localList);\n};\n\n$(\".add\").on(\"click\", addUrl);\n\n$(\".search_box > input\").focus(() => {\n  $(document).off(\"keypress\", keyToSite);\n  $(document).on(\"keypress\", (e) => {\n    if (e.key === \"Enter\") {\n      $(\".search_button\").trigger(\"click\");\n    }\n  });\n});\n\n$(document).on(\"keypress\", keyToSite);\n\n$(\".select_button\").click(function (e) {\n  e.preventDefault();\n  $(\".card\").toggleClass(\"show\");\n});\n\n$(\".search_button\").click(search);\n$(\".switch_btn\").click(function (e) {\n  e.preventDefault();\n  engine = this.name;\n  localStorage.setItem(\"engine\", engine);\n  const new_src = `https://kehanhan.github.io/newTab/src/images/${engine}.png`;\n  $(\".select_button > img\").attr(\"src\", new_src);\n  $(\".card\").toggleClass(\"show\");\n});\n"]}