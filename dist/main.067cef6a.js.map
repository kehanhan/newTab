{"version":3,"sources":["main.js"],"names":["engineList","Map","sites","JSON","parse","localStorage","getItem","engine","siteList","logo","name","url","setEngine","new_src","$","attr","urlToName","replace","removeSite","e","stopImmediatePropagation","index","currentTarget","parent","remove","splice","newSite","insertBefore","on","initSites","i","length","addSite","window","prompt","indexOf","siteName","siteLogo","push","sitePointer","toLowerCase","key","open","search","preventDefault","inputVal","val","get","toggleEngines","toggleClass","switchEngine","setItem","enterSearch","trigger","onpagehide","localList","stringify","document","focus","off","blur","click"],"mappings":"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","file":"main.067cef6a.js","sourceRoot":"../src","sourcesContent":["const engineList = new Map([\r\n  [\"google\", \"https://google.com/search?q=\"],\r\n  [\"baidu\", \"https://www.baidu.com/s?wd=\"],\r\n  [\"mdn\", \"https://developer.mozilla.org/zh-CN/search?q=\"],\r\n  [\"github\", \"https://github.com/search?q=\"],\r\n  [\"iconfont\", \"https://www.iconfont.cn/search/index?searchType=icon&q=\"],\r\n]);\r\nconst sites = JSON.parse(localStorage.getItem(\"sites\"));\r\nlet engine = localStorage.getItem(\"engine\") || \"google\";\r\nlet siteList = sites || [\r\n  { logo: \"A\", name: \"Apple\", url: \"https://www.apple.com.cn/\" },\r\n  { logo: \"B\", name: \"bilibili\", url: \"https://bilibili.com\" },\r\n  { logo: \"C\", name: \"css-tricks\", url: \"https://css-tricks.com/\" },\r\n  { logo: \"D\", name: \"DeepL翻译\", url: \"https://www.deepl.com/zh/translator\" },\r\n  {\r\n    logo: \"E\",\r\n    name: \"Element-UI\",\r\n    url: \"http://element-cn.eleme.io/#/zh-CN/component/installation\",\r\n  },\r\n  {\r\n    logo: \"F\",\r\n    name: \"Figma\",\r\n    url: \"https://www.figma.com/\",\r\n  },\r\n  {\r\n    logo: \"G\",\r\n    name: \"Github\",\r\n    url: \"https://github.com/\",\r\n  },\r\n  {\r\n    logo: \"H\",\r\n    name: \"Highcharts\",\r\n    url: \"https://www.highcharts.com.cn/\",\r\n  },\r\n  {\r\n    logo: \"I\",\r\n    name: \"Iconfont\",\r\n    url: \"https://www.iconfont.cn/\",\r\n  },\r\n  {\r\n    logo: \"J\",\r\n    name: \"jQuery\",\r\n    url: \"https://jquery.com/\",\r\n  },\r\n  {\r\n    logo: \"K\",\r\n    name: \"快递100\",\r\n    url: \"https://kuaidi100.com\",\r\n  },\r\n  {\r\n    logo: \"L\",\r\n    name: \"LeetCode\",\r\n    url: \"https://leetcode-cn.com/\",\r\n  },\r\n  {\r\n    logo: \"M\",\r\n    name: \"MDN\",\r\n    url: \"https://developer.mozilla.org/zh-CN/docs/Learn\",\r\n  },\r\n];\r\n\r\nconst setEngine = (engine) => {\r\n  const new_src = `https://kehanhan.github.io/newTab/src/images/${engine}.png`;\r\n  $(\".select_btn > img\").attr(\"src\", new_src);\r\n};\r\nconst urlToName = (url) => {\r\n  return url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/, \"\")\r\n    .replace(/\\.org/, \"\")\r\n    .replace(/\\.com/, \"\")\r\n    .replace(/\\.cn/, \"\");\r\n};\r\nconst removeSite = (e) => {\r\n  e.stopImmediatePropagation();\r\n  const index = $(e.currentTarget).parent().index();\r\n  $(e.currentTarget).parent().remove();\r\n  siteList.splice(index, 1);\r\n};\r\nconst newSite = (name, logo, url) => {\r\n  $(`<li class=\"site\">\r\n  <a href=\"${url}\">\r\n      <div class=\"site_icon\">${logo}</div>\r\n  </a>\r\n  <div class=\"site_name\" title=${name} >${name}</div>\r\n  <div class=\"remove_site\">\r\n    <svg class=\"icon\">\r\n        <use xlink:href=\"#icon-delete\"></use>\r\n    </svg>\r\n  </div>\r\n</li>`).insertBefore($(\".last\"));\r\n  $(\".site\").on(\"click\", \".remove_site\", removeSite);\r\n};\r\nconst initSites = () => {\r\n  for (let i = 0; i < siteList.length; i++) {\r\n    newSite(siteList[i].name, siteList[i].logo, siteList[i].url);\r\n  }\r\n};\r\nsetEngine(engine);\r\ninitSites();\r\n\r\nconst addSite = () => {\r\n  let url = window.prompt(\"请输入网站地址：\");\r\n  if (url) {\r\n    if (url.indexOf(\"http\") !== 0) {\r\n      url = \"https://\" + url;\r\n    }\r\n    siteName = urlToName(url);\r\n    siteLogo = siteName[0];\r\n    siteList.push({\r\n      logo: siteLogo,\r\n      name: siteName,\r\n      url: url,\r\n    });\r\n    newSite(siteName, siteLogo, url);\r\n  }\r\n};\r\nconst sitePointer = (e) => {\r\n  for (let i = 0; i < siteList.length; i++) {\r\n    if (siteList[i].logo.toLowerCase() === e.key) {\r\n      window.open(siteList[i].url);\r\n    }\r\n  }\r\n};\r\nconst search = (e) => {\r\n  e.preventDefault();\r\n  const inputVal = $(\".search_box > input\").val();\r\n  !inputVal || window.open(engineList.get(engine) + inputVal);\r\n};\r\nconst toggleEngines = function () {\r\n  $(\".card\").toggleClass(\"show\");\r\n};\r\nconst switchEngine = function (e) {\r\n  e.preventDefault();\r\n  engine = this.name;\r\n  localStorage.setItem(\"engine\", engine);\r\n  const new_src = `https://kehanhan.github.io/newTab/src/images/${engine}.png`;\r\n  $(\".select_btn > img\").attr(\"src\", new_src);\r\n  toggleEngines();\r\n};\r\nconst enterSearch = (e) => {\r\n  e.key === \"Enter\" && $(\".search_btn\").trigger(\"click\");\r\n};\r\n\r\nwindow.onpagehide = () => {\r\n  let localList = JSON.stringify(siteList);\r\n  localStorage.setItem(\"sites\", localList);\r\n};\r\n$(document).on(\"keypress\", sitePointer);\r\n$(\".search_box > input\").focus(() => {\r\n  $(document).off(\"keypress\", sitePointer);\r\n  $(document).on(\"keypress\", enterSearch);\r\n});\r\n$(\".search_box > input\").blur(() => $(document).on(\"keypress\", sitePointer));\r\n$(\".select_btn\").click(toggleEngines);\r\n$(\".search_btn\").click(search);\r\n$(\".switch_btn\").click(switchEngine);\r\n$(\".add_site\").on(\"click\", addSite);\r\n"]}